#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ğŸ¯ GUIA DE TESTE - CLIENTE SMINDECK
Siga os passos para testar todo o fluxo
"""

print("""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ğŸ¯ TESTE COMO CLIENTE                           â•‘
â•‘                                                                    â•‘
â•‘         Sistema de Banco Centralizado - SminDeck                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“ PRÃ‰-REQUISITOS CHECADOS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Banco de dados local: LIMPO (vazio)
âœ… Bot Discord: ONLINE (em 72.60.244.240:5001)
âœ… API REST: RESPONDENDO (http://72.60.244.240:5001/api/health)
âœ… APP: RODANDO (em sua mÃ¡quina local)


ğŸ® PASSO 1: ABRIR DISCORD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Abra Discord
2. VÃ¡ para o servidor do SminDeck Bot
3. Acesse o canal #smindeck (ou qualquer canal onde o bot estÃ¡)


ğŸ” PASSO 2: GERAR CHAVE NO BOT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. No Discord, envie: "oi"
2. âœ… Bot vai responder com uma mensagem
3. Copie a CHAVE (8 caracteres em MAIÃšSCULAS)

   Exemplo de chave: ABCD1234

   â° Timeout: A chave expira em 5 minutos


ğŸ”‘ PASSO 3: CONECTAR CHAVE NO APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. No APP SminDeck que estÃ¡ rodando:
   â””â”€ Clique no botÃ£o "ğŸ¤– BOT" (canto inferior)

2. Clique em "Tenho chave"
   â””â”€ Vai abrir um dialog para inserir a chave

3. Cole a chave que copiou do Discord
   â””â”€ Exemplo: ABCD1234

4. Aguarde:
   â”œâ”€ "ğŸ” Validando chave..." (amarelo)
   â”œâ”€ "ğŸ” Conectando com bot..." (amarelo)
   â”œâ”€ "âœ“ Conectado!" (verde)
   â””â”€> Dialog fecha automaticamente


âœ¨ PASSO 4: VERIFICAR BOT NO DISCORD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Volte ao Discord e verifique:

âœ… Bot enviou:
   â”œâ”€ "âœ… SUCESSO!"
   â”œâ”€ "Sua autenticaÃ§Ã£o foi confirmada!"
   â””â”€ Menu com 4 botÃµes:
      â”œâ”€ ğŸ”— Atualizar Link
      â”œâ”€ ğŸ¥ Atualizar VÃ­deo
      â”œâ”€ ğŸ–¼ï¸ Atualizar Imagem
      â””â”€ ğŸ“ Menu de ConteÃºdo


ğŸ¨ PASSO 5: FAZER PRIMEIRA ATUALIZAÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. No menu do Discord, clique em: "ğŸ”— Atualizar Link"

2. Bot vai pedir:
   â””â”€ "Em qual botÃ£o vocÃª deseja atualizar?"

3. Clique em: "BotÃ£o 1"

4. Bot vai pedir:
   â””â”€ "Envie o link para o BotÃ£o 1:"

5. VocÃª envia qualquer link, exemplo:
   â””â”€ "https://example.com"

6. âœ… Bot confirma:
   â”œâ”€ "âœ… SUCESSO!"
   â”œâ”€ "Seus dados foram atualizados no BotÃ£o 1!"
   â””â”€ "Tudo pronto! âœ¨"


ğŸ“Š PASSO 6: SINCRONIZAR NO APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Volte ao APP SminDeck

2. FECHE e ABRA novamente:
   â”œâ”€ Ctrl+Q (ou fechar a janela)
   â””â”€ python main.py (ou clique para abrir novamente)

3. âœ… Deve aparecer LOADING DIALOG:
   â”œâ”€ "Atualizando seu app..."
   â”œâ”€ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] Barra de progresso
   â”œâ”€ "Conectando ao banco remoto..." (10%)
   â”œâ”€ "Processando atualizaÃ§Ãµes..." (50%)
   â””â”€ "âœ“ SincronizaÃ§Ã£o concluÃ­da!" (100%)

4. ğŸ‰ APP abre com dados sincronizados
   â””â”€ BotÃ£o 1 agora contÃ©m: https://example.com


ğŸ”„ PASSO 7: FAZER MAIS ATUALIZAÃ‡Ã•ES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Repita os PASSOS 5-6 para cada tipo:

1. Atualizar VÃ­deo:
   â”œâ”€ Escolha um botÃ£o (ex: BotÃ£o 2)
   â”œâ”€ Envie um link de vÃ­deo
   â””â”€ Sincronize no APP

2. Atualizar Imagem:
   â”œâ”€ Escolha um botÃ£o (ex: BotÃ£o 3)
   â”œâ”€ Envie um link de imagem
   â””â”€ Sincronize no APP

3. Menu de ConteÃºdo:
   â”œâ”€ Escolha um botÃ£o
   â”œâ”€ Envie dados personalizados
   â””â”€ Sincronize no APP


âœ… CHECKLIST DE SUCESSO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Marque conforme avanÃ§a:

â–¡ Gerei chave no Discord (/oi)
â–¡ Copiei corretamente a chave
â–¡ Colei a chave no APP
â–¡ APP conectou com sucesso
â–¡ Bot enviou confirmaÃ§Ã£o no Discord
â–¡ Bot mostrou menu com 4 opÃ§Ãµes
â–¡ Enviei primeira atualizaÃ§Ã£o (link)
â–¡ Bot confirmou atualizaÃ§Ã£o
â–¡ Fechei e reabrui APP
â–¡ Loading Dialog apareceu
â–¡ APP sincronizou dados
â–¡ BotÃ£o 1 tem os dados da primeira atualizaÃ§Ã£o
â–¡ Fiz mais atualizaÃ§Ãµes nos outros botÃµes
â–¡ Todas as sincronizaÃ§Ãµes funcionaram


ğŸ› TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ "API offline"
   â””â”€> Verifique se VPS estÃ¡ rodando:
       curl http://72.60.244.240:5001/api/health

âŒ "Chave invÃ¡lida"
   â””â”€> Copie novamente (exatamente como o bot mostrou)
   â””â”€> Verifique se nÃ£o expirou (5 min)

âŒ "Bot nÃ£o responde apÃ³s autenticaÃ§Ã£o"
   â””â”€> Verifique logs do bot:
       ssh root@72.60.244.240
       tail -100 /opt/smindeck-bot/api_server.log

âŒ "Loading nÃ£o aparece ao abrir APP"
   â””â”€> Normal! SÃ³ aparece se hÃ¡ atualizaÃ§Ãµes pendentes
   â””â”€> FaÃ§a uma atualizaÃ§Ã£o no Discord primeiro

âŒ "Dados nÃ£o sincronizam"
   â””â”€> Feche e abra APP novamente
   â””â”€> Verifique conexÃ£o com internet


ğŸ“Š O QUE ESTÃ SENDO TESTADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FLUXO COMPLETO:
  1. âœ“ GeraÃ§Ã£o de chaves no bot (5 min timeout)
  2. âœ“ ValidaÃ§Ã£o de chaves via API
  3. âœ“ AutenticaÃ§Ã£o no banco de dados
  4. âœ“ Registro de atualizaÃ§Ãµes
  5. âœ“ Loading dialog condicional
  6. âœ“ SincronizaÃ§Ã£o incremental
  7. âœ“ PersistÃªncia de dados

TECNOLOGIAS:
  â€¢ Discord.py (Bot)
  â€¢ SQLite (Banco)
  â€¢ HTTP REST (API)
  â€¢ PyQt6 (UI)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ DICA: Se tudo funcionar, parabÃ©ns! ğŸ‰

O sistema estÃ¡ pronto para PRODUÃ‡ÃƒO!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
""")

input("\nğŸ‘‰ Pressione ENTER quando quiser comeÃ§ar...")
